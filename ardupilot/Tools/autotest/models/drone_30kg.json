# 30kg Heavy-lift Drone Model - MELARD 1026 Motor with 36x19 Props
# X-frame quadcopter with 14S battery system
# Updated with actual specifications from motor/ESC/battery data

{
    # ============================================================
    # PHYSICAL PARAMETERS (from measurements)
    # ============================================================

    # total vehicle mass (kg) - fully assembled with battery
    "mass" : 30.0,

    # vehicle diagonal size (m) - motor-to-motor distance
    "diagonal_size" : 1.5,

    # arm length (m) - center to motor axis
    "arm_length" : 0.75,

    # frame height (m)
    "frame_height" : 0.1,

    # ============================================================
    # INERTIA PARAMETERS (from CAD/measurements)
    # ============================================================

    # moments of inertia (kg·m²)
    "Ixx" : 2.78,   # Roll axis inertia
    "Iyy" : 4.88,   # Pitch axis inertia
    "Izz" : 7.18,   # Yaw axis inertia

    # cross-product inertia terms (kg·m²)
    "Ixy" : 0.084,
    "Ixz" : -0.0116,
    "Iyz" : -0.0130,

    # ============================================================
    # MOTOR & PROPELLER PARAMETERS
    # ============================================================

    # Motor: MELARD 1026, Kv=100, 14S rated
    # Propeller: 36×19 inch
    # Max thrust: 235.4N per motor (24kg)

    "motor_kv" : 100,         # RPM/V
    "prop_diameter" : 0.9144, # meters (36 inches)
    "prop_pitch" : 0.4826,    # meters (19 inches)

    # total effective rotor disc area in sq m (4 motors)
    "disc_area" : 0.658,

    # thrust and torque coefficients (from thrust stand data)
    "thrust_coef" : 0.063,    # C_T
    "torque_coef" : 0.0052,   # C_Q

    # MOT_THST_EXPO - motor thrust curve exponent (0=linear, 1=quadratic)
    "propExpo" : 0.75,

    # number of motors (quadcopter X configuration)
    "num_motors" : 4,

    # ============================================================
    # BATTERY PARAMETERS (14S LiPo system)
    # ============================================================

    # full battery voltage (14S LiPo fully charged: 4.2V * 14)
    "maxVoltage" : 58.8,

    # nominal voltage (14S: 3.7V * 14)
    "refVoltage" : 51.8,

    # minimum safe voltage (14S: 3.0V * 14)
    "minVoltage" : 42.0,

    # battery capacity in Amp-hours
    "battCapacityAh" : 38.5,

    # battery internal resistance (ohms) - estimated for 38Ah 14S
    "refBatRes" : 0.015,

    # ============================================================
    # HOVER & REFERENCE PARAMETERS (from performance data)
    # ============================================================

    # hover throttle from 0 to 1 (30% throttle gives ~80N per motor)
    "hoverThrOut" : 0.33,

    # Reference parameters from performance table at 30% throttle (hover)
    "refSpd" : 15.0,      # m/s - typical cruise speed
    "refAngle" : 25.0,    # degrees - pitch angle at cruise
    "refCurrent" : 18.23, # Amps - hover current per motor at 30%
    "refAlt" : 50,        # meters AMSL - reference altitude
    "refTempC" : 25,      # degrees C - standard temperature
    "refRotRate" : 90,    # approximate maximum yaw rate in deg/sec

    # ============================================================
    # ESC PARAMETERS (E150 14S)
    # ============================================================

    # MOT_PWM_MIN (microseconds)
    "pwmMin" : 1000,

    # MOT_PWM_MAX (microseconds)
    "pwmMax" : 2000,

    # MOT_SPIN_MIN (0-1 range)
    "spin_min" : 0.15,

    # MOT_SPIN_MAX (0-1 range)
    "spin_max" : 0.95,

    # maximum motor slew rate (deg/sec) - updated for E150 ESC
    "slew_max" : 150,

    # ESC update rate (Hz) - PWM protocol at 400Hz
    "esc_rate" : 400,

    # ============================================================
    # AERODYNAMIC PARAMETERS (from measurements/CFD)
    # ============================================================

    # momentum drag coefficient (ratio relative to ducted rotor)
    "mdrag_coef" : 0.2,

    # drag coefficient (body)
    "drag_coef" : 0.7,

    # frontal area (m²)
    "frontal_area" : 0.124892,

    # side area (m²)
    "side_area" : 0.354020,

    # vertical drag coefficient (estimated)
    "vertical_drag_coef" : 1.0,

    # rotor downwash velocity in hover (m/s)
    "downwash_velocity" : 7.0,

    # ground effect height (m) - rotor diameter
    "ground_effect_height" : 0.914,

    # ground effect factor (thrust increase near ground)
    "ground_effect_factor" : 1.08,

    # ============================================================
    # MOTOR RESISTANCE (estimated for power modeling)
    # ============================================================

    # motor phase resistance (ohms) - estimated for 100Kv motor
    "motor_resistance" : 0.05,

    # motor inductance (mH) - estimated
    "motor_inductance" : 0.03
}
